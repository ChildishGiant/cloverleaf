function getCookie(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}function setCookie(e,t){document.cookie=e+"="+t+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/;"}function setMode(e){mode=e,setCookie("mode",e),process()}function toggleSettings(){$("#engineSelector").toggle(),$("#"+getCookie("mode")).click(),$("#engineSelector").is(":visible")?setCookie("showSettings","true"):document.cookie="showSettings=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function checkDebug(){debugMode&&(document.title="Perdola - Debug "+(new Date).getTime(),debug("Enabling debug css"),$("<link>").attr("rel","stylesheet").attr("type","text/css").attr("href","debug.css").appendTo("head"))}function debug(e){debugMode&&console.log(e)}function getQueryStrings(){for(var e={},t=function(e){return decodeURIComponent(e.replace(/\+/g," "))},o=location.search.substring(1).split("&"),a=0;a<o.length;a++){var n=o[a].split("=");n.length>1&&(e[t(n[0])]=t(n[1]))}return e}function passwordToggle(){$("#passwordToggle").prop("checked")?$("#pass").attr("type","password"):$("#pass").attr("type","text")}function resultToggle(){$("#resultToggle").prop("checked")?$("#result").addClass("hidden"):$("#result").removeClass("hidden")}function changeTheme(e){if(""===e)e=defaultTheme;else{if(!themeData[e])throw"invalid theme: "+e;setCookie("theme",e),document.documentElement.style.setProperty("--accentColor",themeData[e].accent),document.documentElement.style.setProperty("--lightAccent",themeData[e].lightAccent),document.documentElement.style.setProperty("--textColor",themeData[e].text),document.documentElement.style.setProperty("--backgroundColor",themeData[e].background),document.documentElement.style.setProperty("--internalColor",themeData[e].internal),document.documentElement.style.setProperty("--incorrectColor",themeData[e].incorrect),document.documentElement.style.setProperty("--correctColor",themeData[e].correct),document.documentElement.style.setProperty("--inputColor",themeData[e].inputColor),document.documentElement.style.setProperty("--linkColor",themeData[e].linkColor),document.documentElement.style.setProperty("--highlightColor",themeData[e].highlightColor)}}function process(){var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",t=[],o=$("#app").val(),a=$("#pass").val(),n=Math.trunc($("#length").val()),s="",i=defaultMinLength;if(""===o||""===a||""===n)return $("#result").text(""),"App / pass empty";if(jsonData[o]){if(debug("Found preset: "+o),jsonData[o].alias&&(o=jsonData[o].alias),"chars"in jsonData[o]&&(e=jsonData[o].chars),"requirements"in jsonData[o])for(var l=0;l<jsonData[o].requirements.length;l++)t.push(possibleRequirements[jsonData[o].requirements[l]]);"minLength"in jsonData[o]&&(i=jsonData[o].minLength)}if(i<=n&&n<=maxLength){for(debug("Started generating password"),"new"==mode?Math.seedrandom(keccak512(o.toLowerCase()+a)):Math.seedrandom(o.toLowerCase()+a);;){for(s="";s.length<n;)s+=e[Math.floor(Math.random()*e.length)];if(t==[])break;for(var r=!1,g=0;g<t.length;g++)for(var c=0;c<t[g].length&&-1==s.indexOf(t[g][c]);c++)if(t[g].indexOf(t[g][c])==t[g].length-1){r=!0;break}if(!r)break}$("#result").text(s)}else $("#result").text("")}function updateLimits(){var e=$("#app").val();if(reBindMouse(defaultMinLength,defaultMaxLength),$("#length").attr("min",defaultMinLength),$("#length").attr("max",defaultMaxLength),minLength=defaultMinLength,maxLength=defaultMaxLength,jsonData[e]){if(jsonData[e].alias&&jsonData[jsonData[e].alias])e=jsonData[e].alias;else if(jsonData[e].alias&&!jsonData[jsonData[e].alias])throw"Invalid alias";"minLength"in jsonData[e]&&jsonData[e].minLength!=minLength&&(minLength=jsonData[e].minLength,$("#length").attr("min",minLength),reBindMouse(minLength)),"maxLength"in jsonData[e]&&jsonData[e].maxLength!=maxLength&&(maxLength=jsonData[e].maxLength,$("#length").attr("max",maxLength),reBindMouse(minLength,maxLength))}}function reBindMouse(e,t){void 0===e&&(e=defaultMinLength),void 0===t&&(t=defaultMaxLength),$("#length").unbind("mousewheel"),$("#length").on("mousewheel",function(o,a){return a>0?parseInt(this.value)<t&&(parseInt(this.value)<e?this.value=e:this.value=parseInt(this.value)+1,process()):parseInt(this.value)>e&&(parseInt(this.value)>t?this.value=t:this.value=parseInt(this.value)-1,process()),!1})}function save(){$("#pass").val()&&(setCookie("password",$("#pass").val()),Materialize.toast("Password saved to your device!",4e3,"success"))}function load(){if(void 0!==getCookie("password")){var e=getCookie("password");$("label[for='pass']").addClass("active"),$("#pass").val(e),process(),Materialize.toast("Password loaded from your device!",4e3,"success")}else Materialize.toast("You have no saved password to load.",4e3,"warning")}console.clear();var mode,lastName="",autoCompleteData={},jsonData={},defaultMinLength=1,defaultMaxLength=512,minLength=defaultMinLength,maxLength=defaultMaxLength,defaultTheme="Vanilla",themeData={},debugMode=!1,engineVersion="6.0.0",possibleRequirements={cap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",low:"abcdefghijklmnopqrstuvwxyz",num:"0123456789",special:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"};$(function(){void 0!==getCookie("cookieHidden")&&$("#cookieAlert").hide(),updateLimits(),reBindMouse(),$.getJSON("data/sites.json",function(e){jsonData=e;var t=getQueryStrings();if(t.app){var o=String(t.app);if(jsonData[o]){lastName=o,history.pushState(o,o);var a=16,n=e[o].maxLength;n||(n=defaultMaxLength),e[o].minLength<=a&&a<=n||(a=n),$("#length").val(a),process(),e[o].logo?logo=e[o].logo:logo="logos/"+o+".svg",$("#logoContainer").css("display","flex"),$("img#logo").attr("src",logo),$("img#logo").attr("alt",o),$("img#logo").attr("title",o)}$("#app").val(o),$("label[for='app']").addClass("active")}$.each(e,function(e,t){t.logo?autoCompleteData[e]=t.logo:autoCompleteData[e]="logos/"+e+".svg"}),$("input#app").autocomplete({data:autoCompleteData,onAutocomplete:function(t){$("#logoContainer").css("display","flex"),$("img#logo").attr("src",autoCompleteData[t]),$("img#logo").attr("alt",t),$("img#logo").attr("title",t),e[t].alias&&debug("Using alias: "+(t=e[t].alias)),lastName=t,history.pushState(t,t);var o=16,a=e[t].maxLength;a||(a=defaultMaxLength),e[t].minLength<=o&&o<=a||(o=a),$("label[for=length]").addClass("active"),$("#length").val(o),process()},minLength:0}),$("#app").focus()}),$.getJSON("data/themes.json",function(e){themeData=e,$.each(themeData,function(e,t){$("#fabs").append("<li><a name='themes' class='btn-floating' onclick='changeTheme(\""+e+"\");' id='"+e+"' ><i class='material-icons'>color_lens</i></a></li>"),$("head").append("<style>a[id="+e+"]{background-color: "+themeData[e].background+" !important; border: 1px ;}a[id="+e+"] i {color: "+themeData[e].text+"}</style>")}),void 0!==getCookie("theme")?(debug("Found a prefered theme. Loading "+getCookie("theme")),changeTheme(getCookie("theme")),$("#"+getCookie("theme")).prop("checked",!0)):($("input[name='themes'][type=radio]").first().prop("checked",!0),changeTheme(defaultTheme))});new Clipboard("#copy").on("success",function(e){""===e.text?Materialize.toast("You have no password to copy.",4e3,"warning"):Materialize.toast("Successfully copied!",4e3,"success")}),$("#pass").on("keyup",function(e){process()}),$("#app").on("keyup",function(e){13==e.which&&$("ul.autocomplete-content").height()>0?(debug("Enter on dropdown"),$("ul.autocomplete-content li:first").mousedown()):13!=e.which&&($("#logoContainer").css("display","none"),$("img#logo").removeAttr("src"),$("img#logo").removeAttr("alt"),$("img#logo").removeAttr("title"));var t=$("#app").val();lastName!=t&&(lastName=t,history.pushState(t,t),process())}),$("#length").on("input",function(e){process()}),checkDebug(),void 0===getCookie("engineVersion")&&setCookie("engineVersion",engineVersion),void 0===getCookie("mode")?setCookie("mode",mode="5.10.0"!=getCookie("engineVersion")?"new":"old"):mode=getCookie("mode"),$(".tabs").tabs(),"true"==getCookie("showSettings")&&$("#engineSelector").show(),"new"==mode?$("#new").click():$("#old").click()}),window.onpopstate=function(e){$("#app").val(history.state),""!==$("#app").val()?$("label[for='app']").addClass("active"):$("label[for='app']").removeClass("active"),process()};
//# sourceMappingURL=jssource.min.js.map