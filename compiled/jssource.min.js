"use strict";function getCookie(e){var t=("; "+document.cookie).split("; "+e+"=");if(2==t.length)return t.pop().split(";").shift()}function setCookie(e,t){document.cookie=e+"="+t+"; expires="+cookieCrumble.toGMTString()+"; path=/;"}function setMode(e){setCookie("mode",mode=e),process()}function toggleSettings(){var e=document.getElementById("engineSelector");e.style.display="none"==e.style.display?"block":"none",M.Tabs.getInstance(document.getElementById("engineTabs")).select(mode),null!==e.offsetParent?setCookie("showSettings","true"):document.cookie="showSettings=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function checkDebug(){if(debugMode){document.title="Perdola - Debug "+(new Date).getTime(),debug("Enabling debug css");var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","debug.css"),document.getElementsByTagName("head")[0].appendChild(e)}}function debug(e){debugMode&&console.log(e)}function getQueryStrings(){var o={},n=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return location.search.substring(1).split("&").forEach(function(e){var t=e.split("=");1<t.length&&(o[n(t[0])]=n(t[1]))}),o}function passwordToggle(){document.getElementById("passwordToggle").checked?document.getElementById("pass").type="password":document.getElementById("pass").type="text"}function resultToggle(){document.getElementById("resultToggle").checked?document.getElementById("result").classList.add("hidden"):document.getElementById("result").classList.remove("hidden")}function getRandomArbitrary(e,t){return Math.trunc(Math.random()*(t-e)+e)}function changeTheme(e){if(""===e)e=defaultTheme;else{if(!themeData[e])throw new Error('Invalid theme  "'+e+'" ');setCookie("theme",e),document.documentElement.style.setProperty("--accentColor",themeData[e].accent),document.documentElement.style.setProperty("--lightAccent",themeData[e].lightAccent),document.documentElement.style.setProperty("--textColor",themeData[e].text),document.documentElement.style.setProperty("--backgroundColor",themeData[e].background),document.documentElement.style.setProperty("--internalColor",themeData[e].internal),document.documentElement.style.setProperty("--incorrectColor",themeData[e].incorrect),document.documentElement.style.setProperty("--correctColor",themeData[e].correct),document.documentElement.style.setProperty("--inputColor",themeData[e].inputColor),document.documentElement.style.setProperty("--linkColor",themeData[e].linkColor),document.documentElement.style.setProperty("--highlightColor",themeData[e].highlightColor),document.documentElement.style.setProperty("--underlineColor",themeData[e].underlineColor)}}function process(){var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",t=[],o=document.getElementById("app").value,n=document.getElementById("pass").value,a=Math.trunc(document.getElementById("length").value),s="",l=defaultMinLength;if(!(l<=a&&a<=maxLength))return document.getElementById("length").value=maxLength<a?maxLength:a<l?l:16,void process();if(""===o||""===n||""===a)return document.getElementById("result").innerHTML="","App / pass empty";if(jsonData[o]){if(debug("Found preset: "+o),jsonData[o].alias&&(o=jsonData[o].alias),"chars"in jsonData[o]&&(e=jsonData[o].chars),"requirements"in jsonData[o])for(var d=0;d<jsonData[o].requirements.length;d++)t.push(possibleRequirements[jsonData[o].requirements[d]]);"minLength"in jsonData[o]&&(l=jsonData[o].minLength)}for(debug("Started generating password"),"new"==mode?Math.seedrandom(keccak512(o.toLowerCase()+n)):Math.seedrandom(o.toLowerCase()+n);;){for(s="";s.length<a;)s+=e[Math.floor(Math.random()*e.length)];if(t==[])break;for(var r=!1,i=0;i<t.length;i++)for(var m=0;m<t[i].length&&-1==s.indexOf(t[i][m]);m++)if(t[i].indexOf(t[i][m])==t[i].length-1){r=!0;break}if(!r)break}document.getElementById("result").textContent=s}function updateLimits(){var e=document.getElementById("app").value;if(document.getElementById("length").min=defaultMinLength,document.getElementById("length").max=defaultMaxLength,minLength=defaultMinLength,maxLength=defaultMaxLength,jsonData[e]){if(jsonData[e].alias&&jsonData[jsonData[e].alias])e=jsonData[e].alias;else if(jsonData[e].alias&&!jsonData[jsonData[e].alias])throw"Invalid alias";"minLength"in jsonData[e]&&jsonData[e].minLength!=minLength&&(minLength=jsonData[e].minLength,document.getElementById("length").min=minLength),"maxLength"in jsonData[e]&&jsonData[e].maxLength!=maxLength&&(maxLength=jsonData[e].maxLength,document.getElementById("length").max=maxLength)}}function save(){document.getElementById("pass").value&&(setCookie("password",document.getElementById("pass").value),M.toast({html:"Password saved to your device!",displayLength:4e3,classes:"success"}))}function load(){if(void 0!==getCookie("password")){var e=getCookie("password");document.querySelector("label[for='pass']").classList.add("active"),document.getElementById("pass").value=e,process(),M.toast({html:"Password loaded from your device!",displayLength:4e3,classes:"success"})}else M.toast({html:"You have no saved password to load.",displayLength:4e3,classes:"warning"});colourUnderline()}function appUp(e){e.key&&1===e.key.length&&(document.getElementById("logoContainer").style.display="none",document.getElementById("logo").removeAttribute("src"),document.getElementById("logo").removeAttribute("alt"),document.getElementById("logo").removeAttribute("title"),process())}function passwordUp(){colourUnderline(),process()}function colourUnderline(){document.getElementById("pass").value?(Math.seedrandom(document.getElementById("pass").value),document.getElementById("pass").style.setProperty("--underlineColor","HSL("+getRandomArbitrary(0,360)+", "+getRandomArbitrary(60,100)+"%, "+getRandomArbitrary(45,80)+"%)")):document.getElementById("pass").removeAttribute("style")}var mode,autoCompleteData={},jsonData={},defaultMinLength=1,defaultMaxLength=512,minLength=defaultMinLength,maxLength=defaultMaxLength,defaultTheme="Vanilla",themeData={},debugMode=!1,engineVersion="6.0.0",d=new Date,cookieCrumble=new Date(d.getFullYear()+1,d.getMonth(),d.getDate()),possibleRequirements={cap:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",low:"abcdefghijklmnopqrstuvwxyz",num:"0123456789",special:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"};window.onload=function(){void 0!==getCookie("cookieHidden")&&(document.getElementById("cookieAlert").style.display="none"),updateLimits();var s=new XMLHttpRequest;s.onload=function(){jsonData=JSON.parse(s.response);var e=getQueryStrings();if(e.app){var t=String(e.app);if(jsonData[t]){var o=16,n=jsonData[t].maxLength;n||(n=defaultMaxLength),jsonData[t].minLength<=o&&o<=n||(o=n),document.getElementById("length").value=o,process(),jsonData[t].logo?logo=jsonData[t].logo:logo="logos/"+t+".svg",document.querySelector("#logoContainer").style.display="flex",document.querySelector("img#logo").src="logo",document.querySelector("img#logo").alt="appName",document.querySelector("img#logo").title="appName"}document.getElementById("app").value=t,document.querySelector("label[for='app']").classList.add("active")}for(var a in jsonData)jsonData[a].logo?autoCompleteData[a]=jsonData[a].logo:autoCompleteData[a]="logos/"+a+".svg";M.Autocomplete.init(document.getElementById("app"),{data:autoCompleteData,onAutocomplete:function(e){document.querySelector("#logoContainer").style.display="flex",document.querySelector("img#logo").src=autoCompleteData[e],document.querySelector("img#logo").alt=e,document.querySelector("img#logo").title=e,jsonData[e].alias&&debug("Using alias: "+(e=jsonData[e].alias));var t=16,o=jsonData[e].maxLength;o||(o=defaultMaxLength),jsonData[e].minLength<=t&&t<=o||(t=o),document.querySelector("label[for=length]").classList.add("active"),document.getElementById("length").value=t,process()},minLength:0,sortFunction:function(e,t,o){if(o){if(e.startsWith(o)&&!t.startsWith(o))return-1;if(!e.startsWith(o)&&t.startsWith(o))return 1}return e<t?-1:t<e?1:0}}),document.getElementById("app").focus()},s.open("get","data/sites.json",!0),s.send();var a=new XMLHttpRequest;a.onload=function(){for(var e in themeData=JSON.parse(a.response)){var t=document.createElement("li");t.innerHTML="<a class='btn-floating' onclick='changeTheme(\""+e+"\");' id='"+e+"' ><i class='material-icons'>color_lens</i></a>",document.getElementById("fabs").appendChild(t);var o="a[id="+e+"]{background-color: "+themeData[e].background+" !important; border: 1px ;}a[id="+e+"] i {color: "+themeData[e].text,n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=o:n.appendChild(document.createTextNode(o)),document.getElementsByTagName("head")[0].appendChild(n)}void 0!==getCookie("theme")?(debug("Found a prefered theme. Loading "+getCookie("theme")),changeTheme(getCookie("theme")),document.getElementById(getCookie("theme")).checked=!0):(document.getElementById("Vanilla").checked=!0,changeTheme(defaultTheme)),M.FloatingActionButton.init(document.querySelectorAll(".fixed-action-btn"),{direction:"left",hoverEnabled:!1,toolbarEnabled:!1})},a.open("get","data/themes.json",!0),a.send(),new Clipboard("#copy").on("success",function(e){""===e.text?M.toast({html:"You have no password to copy.",displayLength:4e3,classes:"warning"}):M.toast({html:"Successfully copied!",displayLength:4e3,classes:"success"})}),checkDebug(),void 0===getCookie("engineVersion")&&setCookie("engineVersion",engineVersion),void 0===getCookie("mode")?setCookie("mode",mode="5.10.0"!=getCookie("engineVersion")?"new":"old"):mode=getCookie("mode"),M.Tooltip.init(document.querySelectorAll(".tooltipped")),M.Tabs.init(document.querySelectorAll(".tabs"));var e=M.Tabs.getInstance(document.getElementById("engineTabs"));if("true"==getCookie("showSettings")&&(document.getElementById("engineSelector").style.display="block"),"new"!=mode&&"old"!=mode)throw new Error('Invalid mode  "'+mode+'" ');e.select(mode)};
//# sourceMappingURL=jssource.min.js.map