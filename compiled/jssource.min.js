"use strict";function getQueryStrings(){var t={},e=function(t){return decodeURIComponent(t.replace(/\+/g," "))},a=location.search.substring(1).split("&");for(var n in a){var o=a[n].split("=");o.length>1&&(t[e(o[0])]=e(o[1]))}return t}function passwordToggle(){$("#passwordToggle").prop("checked")?$("#pass").attr("type","password"):$("#pass").attr("type","text")}function changeTheme(t){if(""==t)t=defaultTheme;else{if(!themeData[t])throw"invalid theme: "+t;document.getElementsByTagName("html")[0];document.documentElement.style.setProperty=sp,sp("--accentColor",themeData[t].accent),sp("--lightAccent",themeData[t].lightAccent),sp("--textColor",themeData[t].text),sp("--backgroundColor",themeData[t].background),sp("--internalColor",themeData[t].internal),sp("--incorrectColor",themeData[t].incorrect),sp("--correctColor",themeData[t].correct),sp("--inputColor",themeData[t].inputColor),sp("--linkColor",themeData[t].linkColor)}}function process(){var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",e="",a=$("#app").val(),n=$("#pass").val(),o=Math.trunc($("#length").val()),s="";if(""==a||""==n||""==o)return $("#result").text(""),$("#copy").hide(),"App / pass empty";if(jsonData[a]&&(jsonData[a].alias&&(a=jsonData[a].alias),"chars"in jsonData[a]&&(t=jsonData[a].chars),"regex"in jsonData[a])){e=jsonData[a].regex;var l=new RegExp(e)}for(Math.seedrandom(a.toLowerCase()+n);;){for(s="";s.length<o;)s+=t[Math.floor(Math.random()*t.length)];if(""===e)break;if(l.test(s))break}$("#result").text(s),$("#copy").css("display","block")}function updateLimits(){var t=$("#app").val();if(reBindMouse(defaultMinLength,defaultMaxLength),$("#length").attr("min",defaultMinLength),$("#length").attr("max",defaultMaxLength),minLength=defaultMinLength,maxLength=defaultMaxLength,jsonData[t]){if(jsonData[t].alias&&jsonData[jsonData[t].alias])t=jsonData[t].alias;else if(jsonData[t].alias&&!jsonData[jsonData[t].alias])throw"Invalid alias";"minLength"in jsonData[t]&&jsonData[t].minLength!=minLength&&(minLength=jsonData[t].minLength,$("#length").attr("min",minLength),reBindMouse(minLength)),"maxLength"in jsonData[t]&&jsonData[t].maxLength!=maxLength&&(maxLength=jsonData[t].maxLength,$("#length").attr("max",maxLength),reBindMouse(minLength,maxLength))}}function reBindMouse(t,e){void 0===t&&(t=defaultMinLength),void 0===e&&(e=defaultMaxLength),$("#length").unbind("mousewheel"),$("#length").on("mousewheel",function(a,n){return n>0?parseInt(this.value)<e&&(parseInt(this.value)<t?this.value=t:this.value=parseInt(this.value)+1,process()):parseInt(this.value)>t&&(parseInt(this.value)>e?this.value=e:this.value=parseInt(this.value)-1,process()),!1})}function save(){$("#pass").val()&&(document.cookie="password="+$("#pass").val()+"; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/;",Materialize.toast("Password saved to your device!",4e3,"success"))}function getCookie(t){var e=("; "+document.cookie).split("; "+t+"=");if(2==e.length)return e.pop().split(";").shift()}function load(){if(document.cookie.startsWith("password=")){var t=getCookie("password");$("label[for='pass']").addClass("active"),$("#pass").val(t),process(),Materialize.toast("Password loaded from your device!",4e3,"success")}else Materialize.toast("You have no saved password to load.",4e3,"warning")}var lastName="",autoCompleteData={},jsonData={},defaultMinLength=4,defaultMaxLength=512,minLength=defaultMinLength,maxLength=defaultMaxLength,defaultTheme="Vanilla",themeData={};window.onload=function(){console.clear(),new Clipboard("#copy").on("success",function(){Materialize.toast("Successfully copied!",4e3,"success")}),$("#pass").on("keyup",function(){process()}),$("#app").on("keyup",function(t){13==t.which&&$("ul.autocomplete-content").height()>0&&$("ul.autocomplete-content li:first").mousedown();var e=$("#app").val();lastName!=e&&(lastName=e,history.pushState(e,e),process(),$("#logoContainer").css("display","none"),$("img#logo").removeAttr("src"),$("img#logo").removeAttr("alt"),$("img#logo").removeAttr("title"))}),$("#length").on("input",function(){process()})},$(function(){$("#length").on("keydown keyup",function(t){var e=Math.trunc($("#length").val());e>maxLength&&46!=t.keyCode&&8!=t.keyCode?(t.preventDefault(),$(this).val(maxLength)):e<minLength&&46!=t.keyCode&&8!=t.keyCode&&(t.preventDefault(),$(this).val(minLength)),process()}),updateLimits(),reBindMouse(),$.getJSON("data/sites.json",function(t){jsonData=t;var e=getQueryStrings();if(e.app){var a=String(e.app);if(jsonData[a]){lastName=a,history.pushState(a,a);var n=16,o=t[a].maxLength;o||(o=defaultMaxLength),t[a].minLength<=16<=o||(n=t[a].maxLength),$("#length").val(n),process(),$("#logoContainer").css("display","flex"),$("img#logo").attr("src",t[a].logo),$("img#logo").attr("alt",a),$("img#logo").attr("title",a)}$("#app").val(a),$("label[for='app']").addClass("active")}$.each(t,function(t,e){autoCompleteData[t]=e.logo}),$("input#app").autocomplete({data:autoCompleteData,onAutocomplete:function(e){lastName=e,history.pushState(e,e);var a=16,n=t[e].maxLength;n||(n=defaultMaxLength),t[e].minLength<=16<=n||(a=t[e].maxLength),$("#length").val(a),process(),$("#logoContainer").css("display","flex"),$("img#logo").attr("src",t[e].logo),$("img#logo").attr("alt",e),$("img#logo").attr("title",e)},minLength:0})}),$.getJSON("data/themes.json",function(t){themeData=t,$.each(themeData,function(t){$("#themeForm").append("<p><input name='themes' class='with-gap' onclick='changeTheme(\""+t+"\");' type='radio' id='"+t+"' /><label for='"+t+"'></label></p>"),$("head").append("<style>form label[for="+t+"]::before{background-color: "+themeData[t].accent+" !important; border: none !important;}</style>"),$("head").append("<style>form label[for="+t+"]::after{border: none !important; transform: scale(0.6) !important; background-color: "+themeData[t].background+" !important;}</style>")}),$("input[name='themes'][type=radio]").first().prop("checked",!0),changeTheme(defaultTheme)})}),window.onpopstate=function(){$("#app").val(history.state),""!=$("#app").val()?$("label[for='app']").addClass("active"):$("label[for='app']").removeClass("active"),process()};
//# sourceMappingURL=jssource.min.js.map